import{r as c,R as r}from"./index-CTjT7uj6.js";import{u as P,s as T,W as A}from"./WebStorage-D5Fgivzj.js";import{c as d}from"./index-Cqve-NHl.js";import{d as N}from"./Close-B7l6KHGX.js";import{m as W}from"./makeStyles-Dm18XSEu.js";import{S as C,a as L}from"./Snackbar-DuVf_p0E.js";import{I as R}from"./IconButton-t4sr7qkK.js";import{u as z}from"./ApiRef-BSBwTmJJ.js";import{T as O}from"./Typography-cLPqD11X.js";import{L as F}from"./Link-V5mBMZDY.js";import{T as k}from"./TestApiProvider-CoiMLMhd.js";import"./index-CFaqwFgm.js";import"./interopRequireDefault-Y9pwbXtE.js";import"./createSvgIcon-CdyNcF9g.js";import"./capitalize-DIeCfh_E.js";import"./defaultTheme-DXWIybXe.js";import"./withStyles-DXZDjQMO.js";import"./hoist-non-react-statics.cjs-DzIEFHQI.js";import"./useControlled-CogIeAPD.js";import"./index-QA7F3UF1.js";import"./createSvgIcon-BJFLD5ph.js";import"./isMuiElement-Cb6QZSLO.js";import"./unstable_useId-B3Hiq1YI.js";import"./Paper-qJ_yTBwO.js";import"./Grow-Brjbh0kw.js";import"./useTheme-DSe7I3Kh.js";import"./utils-BS_pqTfZ.js";import"./TransitionGroupContext-BtzQ-Cv7.js";import"./ButtonBase-CWOryP-z.js";import"./lodash-CoGan1YB.js";import"./index-BkN7i-fW.js";import"./useAnalytics-DTrkS1Gy.js";import"./ConfigApi-DBUUc3nU.js";import"./ApiProvider-CuNQiN7Z.js";import"./index-BRV0Se7Z.js";const I=W(e=>({root:{padding:e.spacing(0),marginBottom:e.spacing(0),marginTop:e.spacing(0),display:"flex",flexFlow:"row nowrap"},topPosition:{position:"relative",marginBottom:e.spacing(6),marginTop:-e.spacing(3),zIndex:"unset"},icon:{fontSize:e.typography.h6.fontSize},content:{width:"100%",maxWidth:"inherit",flexWrap:"nowrap",color:e.palette.banner.text},message:{display:"flex",alignItems:"center","& a":{color:e.palette.banner.link}},button:{color:e.palette.banner.closeButtonColor??"inherit"},info:{backgroundColor:e.palette.banner.info},error:{backgroundColor:e.palette.banner.error},warning:{backgroundColor:e.palette.banner.warning??e.palette.banner.error}}),{name:"BackstageDismissableBanner"}),n=e=>{const{variant:h,message:S,id:l,fixed:p=!1}=e,i=I(),o=z(T).forBucket("notifications"),E=o.snapshot("dismissedBanners").value??[],[m,_]=c.useState(new Set(E)),a=P(o.observe$("dismissedBanners"));c.useEffect(()=>{if(a!=null&&a.value){const D=(a==null?void 0:a.value)??[];_(new Set(D))}},[a==null?void 0:a.value]);const q=()=>{o.set("dismissedBanners",[...m,l])};return r.createElement(C,{anchorOrigin:p?{vertical:"bottom",horizontal:"center"}:{vertical:"top",horizontal:"center"},open:!m.has(l),classes:{root:d(i.root,!p&&i.topPosition)}},r.createElement(L,{classes:{root:d(i.content,i[h]),message:i.message},message:S,action:[r.createElement(R,{key:"dismiss",title:"Permanently dismiss this message",className:i.button,onClick:q},r.createElement(N,{className:i.icon}))]}))};n.__docgenInfo={description:"@public",methods:[],displayName:"DismissableBanner",props:{variant:{required:!0,tsType:{name:"union",raw:"'info' | 'error' | 'warning'",elements:[{name:"literal",value:"'info'"},{name:"literal",value:"'error'"},{name:"literal",value:"'warning'"}]},description:""},message:{required:!0,tsType:{name:"ReactNode"},description:""},id:{required:!0,tsType:{name:"string"},description:""},fixed:{required:!1,tsType:{name:"boolean"},description:""}}};const Se={title:"Feedback/DismissableBanner",component:n,argTypes:{variant:{options:["info","error","warning"],control:{type:"select"}}}};let V;const w={width:"70%"},$=()=>A.create({errorApi:V}),x=[[T,$()]],B={message:"This is a dismissable banner",variant:"info",fixed:!1},t=e=>r.createElement("div",{style:w},r.createElement(k,{apis:x},r.createElement(n,{...e,id:"default_dismissable"})));t.args=B;const s=e=>r.createElement("div",{style:w},r.createElement(k,{apis:x},r.createElement(n,{...e,message:r.createElement(O,null,"This is a dismissable banner with a link:"," ",r.createElement(F,{to:"http://example.com",color:"textPrimary"},"example.com")),id:"linked_dismissable"})));s.args=B;t.__docgenInfo={description:"",methods:[],displayName:"Default",props:{variant:{required:!0,tsType:{name:"union",raw:"'info' | 'error' | 'warning'",elements:[{name:"literal",value:"'info'"},{name:"literal",value:"'error'"},{name:"literal",value:"'warning'"}]},description:""},message:{required:!0,tsType:{name:"ReactNode"},description:""},id:{required:!0,tsType:{name:"string"},description:""},fixed:{required:!1,tsType:{name:"boolean"},description:""}}};s.__docgenInfo={description:"",methods:[],displayName:"WithLink",props:{variant:{required:!0,tsType:{name:"union",raw:"'info' | 'error' | 'warning'",elements:[{name:"literal",value:"'info'"},{name:"literal",value:"'error'"},{name:"literal",value:"'warning'"}]},description:""},message:{required:!0,tsType:{name:"ReactNode"},description:""},id:{required:!0,tsType:{name:"string"},description:""},fixed:{required:!1,tsType:{name:"boolean"},description:""}}};var u,g,f;t.parameters={...t.parameters,docs:{...(u=t.parameters)==null?void 0:u.docs,source:{originalSource:`(args: Props) => <div style={containerStyle}>
    <TestApiProvider apis={apis}>
      <DismissableBanner {...args} id="default_dismissable" />
    </TestApiProvider>
  </div>`,...(f=(g=t.parameters)==null?void 0:g.docs)==null?void 0:f.source}}};var y,b,v;s.parameters={...s.parameters,docs:{...(y=s.parameters)==null?void 0:y.docs,source:{originalSource:`(args: Props) => <div style={containerStyle}>
    <TestApiProvider apis={apis}>
      <DismissableBanner {...args} message={<Typography>
            This is a dismissable banner with a link:{' '}
            <Link to="http://example.com" color="textPrimary">
              example.com
            </Link>
          </Typography>} id="linked_dismissable" />
    </TestApiProvider>
  </div>`,...(v=(b=s.parameters)==null?void 0:b.docs)==null?void 0:v.source}}};const Ee=["Default","WithLink"];export{t as Default,s as WithLink,Ee as __namedExportsOrder,Se as default};
