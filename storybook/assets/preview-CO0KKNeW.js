import{r as g,R as t}from"./index-CTjT7uj6.js";import{a as A,G as R,b as k,c as _,O as M,M as O,d as S,f as P,i as D,o as C,g as I,e as x,h as F,j as z,C as L,L as N,A as q,E as B,k as G}from"./MockTranslationApi-o7x4waXj.js";import{c as j}from"./ConfigApi-DBUUc3nU.js";import{e as H,t as $}from"./TranslationApi-eOxINumg.js";import{d as K}from"./Close-B7l6KHGX.js";import{u as U,c as Y}from"./translation-67MxozS3.js";import{S as V}from"./Snackbar-DuVf_p0E.js";import{A as W}from"./Alert-C1skbvyb.js";import{I as J}from"./IconButton-t4sr7qkK.js";import{T as X}from"./Typography-cLPqD11X.js";import{u as Q}from"./ApiRef-BSBwTmJJ.js";import{l as Z,d as ee}from"./themes-DvRsTggF.js";import{T as te}from"./ThemeProvider-f7E7OGWC.js";import{C as re}from"./CssBaseline-CCCms-mx.js";import{T as ae}from"./TestApiProvider-CoiMLMhd.js";import{C as ie}from"./Content-BESS4r0e.js";import"./index-CFaqwFgm.js";import"./defaultTheme-DXWIybXe.js";import"./classCallCheck-BNzALLS0.js";import"./inherits-CKtKJvtL.js";import"./toArray-pI9XEa5R.js";import"./interopRequireDefault-Y9pwbXtE.js";import"./createSvgIcon-CdyNcF9g.js";import"./capitalize-DIeCfh_E.js";import"./withStyles-DXZDjQMO.js";import"./hoist-non-react-statics.cjs-DzIEFHQI.js";import"./useControlled-CogIeAPD.js";import"./index-QA7F3UF1.js";import"./createSvgIcon-BJFLD5ph.js";import"./isMuiElement-Cb6QZSLO.js";import"./unstable_useId-B3Hiq1YI.js";import"./Paper-qJ_yTBwO.js";import"./Grow-Brjbh0kw.js";import"./useTheme-DSe7I3Kh.js";import"./utils-BS_pqTfZ.js";import"./TransitionGroupContext-BtzQ-Cv7.js";import"./clsx.m-CH7BE6MN.js";import"./Close-D08CbUTF.js";import"./ButtonBase-CWOryP-z.js";import"./palettes-B20oCNII.js";import"./ApiProvider-CuNQiN7Z.js";import"./index-BRV0Se7Z.js";import"./index-Cqve-NHl.js";import"./makeStyles-Dm18XSEu.js";function d(r){const[e,o]=g.useState([]),l=Q(A),{t:p}=U(Y),{anchorOrigin:u={vertical:"top",horizontal:"center"},transientTimeoutMs:c}=r,h=c??5e3;g.useEffect(()=>{const n=l.alert$().subscribe(i=>o(s=>s.concat(i)));return()=>{n.unsubscribe()}},[l]);const[a]=e;if(g.useEffect(()=>{if(a&&a.display==="transient"){const n=setTimeout(()=>{o(i=>{const s=i.filter(v=>v!==a);return s.length===i.length?i:s})},h);return()=>clearTimeout(n)}},[a,h]),e.length===0)return null;const f=()=>{o(n=>n.filter(i=>i!==a))};return t.createElement(V,{open:!0,anchorOrigin:u},t.createElement(W,{action:t.createElement(J,{color:"inherit",size:"small",onClick:f,"data-testid":"error-button-close"},t.createElement(K,null)),severity:a.severity},t.createElement(X,{component:"span"},String(a.message),e.length>1&&t.createElement("em",null,p("alertDisplay.message",{count:e.length-1})))))}d.__docgenInfo={description:`Displays alerts from {@link @backstage/core-plugin-api#AlertApi}

@public
@remarks

Shown as SnackBar at the center top of the page by default. Configurable with props.

@param anchorOrigin - The \`vertical\` property will set the vertical orientation of where the AlertDisplay will be located
and the \`horizontal\` property will set the horizontal orientation of where the AlertDisplay will be located
@param transientTimeoutMs - Number of milliseconds a transient alert will stay open for. Default value is 5000

@example
Here's some examples:
\`\`\`
// This example shows the default usage, the SnackBar will show up at the top in the center and any transient messages will stay open for 5000ms
<AlertDisplay />

// With this example the SnackBar will show up in the bottom right hand corner and any transient messages will stay open for 2500ms
<AlertDisplay transientTimeoutMs={2500} anchorOrigin={{vertical: 'bottom', horizontal: 'right'}}/>

// If you want to just set the time a transientTimeoutMs, you can do that like this:
<AlertDisplay transientTimeoutMs={10000} />
\`\`\``,methods:[],displayName:"AlertDisplay",props:{anchorOrigin:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  vertical: 'top' | 'bottom';
  horizontal: 'left' | 'center' | 'right';
}`,signature:{properties:[{key:"vertical",value:{name:"union",raw:"'top' | 'bottom'",elements:[{name:"literal",value:"'top'"},{name:"literal",value:"'bottom'"}],required:!0}},{key:"horizontal",value:{name:"union",raw:"'left' | 'center' | 'right'",elements:[{name:"literal",value:"'left'"},{name:"literal",value:"'center'"},{name:"literal",value:"'right'"}],required:!0}}]}},description:""},transientTimeoutMs:{required:!1,tsType:{name:"number"},description:""}}};const oe=new L({}),ne=new N,T=new q,se=new B(T,new G),le={getUserId:()=>"guest",getProfile:()=>({email:"guest@example.com"}),getIdToken:()=>{},signOut:async()=>{}},m=new S,me=R.create({apiOrigin:"http://localhost:7007",basePath:"/auth/",oauthRequestApi:m}),pe=k.create({apiOrigin:"http://localhost:7007",basePath:"/auth/",oauthRequestApi:m}),ue=_.create({apiOrigin:"http://localhost:7007",basePath:"/auth/",oauthRequestApi:m}),ce=M.create({apiOrigin:"http://localhost:7007",basePath:"/auth/",oauthRequestApi:m}),he=O.create(),fe=[[j,oe],[P,ne],[A,T],[H,se],[D,le],[C,m],[I,me],[x,pe],[F,ue],[z,ce],[$,he]],{useParameter:ge,addons:Ae,useEffect:dt,useMemo:de}=__STORYBOOK_MODULE_PREVIEW_API__;var Te=Object.defineProperty,Ee=(r,e)=>{for(var o in e)Te(r,o,{get:e[o],enumerable:!0})},ye={};Ee(ye,{initializeThemeState:()=>w,pluckThemeFromContext:()=>y,useThemeParameters:()=>b});var E="themes",be=`storybook/${E}`,we="theme",ve={},Re={REGISTER_THEMES:`${be}/REGISTER_THEMES`};function y({globals:r}){return r[we]||""}function b(){return ge(E,ve)}function w(r,e){Ae.getChannel().emit(Re.REGISTER_THEMES,{defaultTheme:e,themes:r})}var ke=([r,e])=>e,_e=({Provider:r,GlobalStyles:e,defaultTheme:o,themes:l={}})=>{let p=Object.keys(l),u=o||p[0];return w(p,u),(c,h)=>{let{themeOverride:a}=b(),f=y(h),n=de(()=>{let i=a||f||u,s=Object.entries(l);return s.length===1?ke(s[0]):l[i]},[f,a]);return r?t.createElement(r,{theme:n},e&&t.createElement(e,null),c()):t.createElement(t.Fragment,null,e&&t.createElement(e,null),c())}};const Tt={parameters:{controls:{matchers:{color:/(background|color)$/i,date:/Date$/i}},darkMode:{current:"light"},layout:"fullscreen"},decorators:[_e({themes:{Light:Z,Dark:ee},defaultTheme:"Light",Provider:te,GlobalStyles:re}),r=>t.createElement(ae,{apis:fe},t.createElement(d,null),t.createElement(ie,null,t.createElement(r,null)))]},Et={options:{storySort:{order:["Plugins","Layout","Navigation"]}}};export{Tt as default,Et as parameters};
